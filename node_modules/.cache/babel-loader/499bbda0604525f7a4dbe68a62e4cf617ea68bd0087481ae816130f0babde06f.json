{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  name: \"FinalStep\",\n  props: {\n    content: {\n      type: String,\n      required: true\n    },\n    generatedImage: {\n      type: String,\n      default: null\n    },\n    projectId: {\n      type: String,\n      default: \"\"\n    },\n    projectTitle: {\n      type: String,\n      default: \"Content Project\"\n    },\n    projectDescription: {\n      type: String,\n      default: \"\"\n    },\n    contentId: {\n      type: String,\n      default: \"\"\n    }\n  },\n  data() {\n    return {\n      projectStatus: \"in_progress\",\n      loading: false,\n      error: null,\n      saveLoading: false,\n      saveMessage: null,\n      saveStatus: \"success\"\n    };\n  },\n  computed: {\n    apiEndpoint() {\n      return process.env.VUE_APP_API_URL || \"http://localhost:3001/api\";\n    },\n    hasProjectId() {\n      return this.projectId && this.projectId.length > 0;\n    },\n    hasContentId() {\n      return this.contentId && this.contentId.length > 0;\n    },\n    formattedContent() {\n      if (!this.content) return \"\";\n\n      // Tạo định dạng HTML cho nội dung\n      const formatted = this.content\n      // Thay thế dòng trống bằng thẻ đoạn\n      .replace(/\\n\\s*\\n/g, \"</p><p>\")\n      // Thay thế dòng mới đơn bằng thẻ br\n      .replace(/\\n/g, \"<br>\")\n      // Bọc toàn bộ nội dung trong thẻ p\n      .replace(/^(.+)$/, \"<p>$1</p>\");\n      return formatted;\n    },\n    imageUrl() {\n      // Trả về URL hình ảnh nếu có, không thì trả về null\n      if (this.generatedImage) {\n        // Nếu generatedImage là data:image thì trả về trực tiếp\n        if (this.generatedImage.startsWith(\"data:image\")) {\n          return this.generatedImage;\n        }\n        // Nếu là URL thì trả về URL\n        return this.generatedImage;\n      }\n      return null;\n    }\n  },\n  created() {\n    if (this.hasProjectId) {\n      this.fetchProjectStatus();\n    }\n  },\n  methods: {\n    async fetchProjectStatus() {\n      try {\n        if (!this.hasProjectId) return;\n        const response = await axios.get(`${this.apiEndpoint}/projects/${this.projectId}`);\n        if (response.data.success) {\n          this.projectStatus = response.data.data.status;\n        }\n      } catch (error) {\n        console.error(\"Error fetching project status:\", error);\n        this.error = \"Could not fetch project status\";\n      }\n    },\n    async markAsFinished() {\n      try {\n        if (!this.hasProjectId) {\n          alert(\"Cannot update status: No project ID available\");\n          return;\n        }\n        this.loading = true;\n        const response = await axios.patch(`${this.apiEndpoint}/projects/${this.projectId}/status`, {\n          status: \"finished\"\n        });\n        if (response.data.success) {\n          this.projectStatus = \"finished\";\n        }\n      } catch (error) {\n        console.error(\"Error updating project status:\", error);\n        alert(\"Failed to update project status: \" + error.message);\n      } finally {\n        this.loading = false;\n      }\n    },\n    async markAsInProgress() {\n      try {\n        if (!this.hasProjectId) {\n          alert(\"Cannot update status: No project ID available\");\n          return;\n        }\n        this.loading = true;\n        const response = await axios.patch(`${this.apiEndpoint}/projects/${this.projectId}/status`, {\n          status: \"in_progress\"\n        });\n        if (response.data.success) {\n          this.projectStatus = \"in_progress\";\n        }\n      } catch (error) {\n        console.error(\"Error updating project status:\", error);\n        alert(\"Failed to update project status: \" + error.message);\n      } finally {\n        this.loading = false;\n      }\n    },\n    async saveContent() {\n      try {\n        if (!this.hasContentId) {\n          this.saveMessage = \"No content ID available. Cannot save.\";\n          this.saveStatus = \"error\";\n          return;\n        }\n        this.saveLoading = true;\n        this.saveMessage = null;\n        const response = await axios.put(`${this.apiEndpoint}/content/contents/${this.contentId}`, {\n          generatedContent: this.content\n        });\n        if (response.data.success) {\n          this.saveMessage = \"Content saved successfully!\";\n          this.saveStatus = \"success\";\n        } else {\n          throw new Error(response.data.error || \"Unknown error occurred\");\n        }\n      } catch (error) {\n        console.error(\"Error saving content:\", error);\n        this.saveMessage = \"Failed to save content: \" + error.message;\n        this.saveStatus = \"error\";\n      } finally {\n        this.saveLoading = false;\n\n        // Clear message after 3 seconds\n        setTimeout(() => {\n          this.saveMessage = null;\n        }, 3000);\n      }\n    },\n    goToDashboard() {\n      this.$emit(\"go-to-dashboard\");\n    }\n  }\n};","map":{"version":3,"names":["axios","name","props","content","type","String","required","generatedImage","default","projectId","projectTitle","projectDescription","contentId","data","projectStatus","loading","error","saveLoading","saveMessage","saveStatus","computed","apiEndpoint","process","env","VUE_APP_API_URL","hasProjectId","length","hasContentId","formattedContent","formatted","replace","imageUrl","startsWith","created","fetchProjectStatus","methods","response","get","success","status","console","markAsFinished","alert","patch","message","markAsInProgress","saveContent","put","generatedContent","Error","setTimeout","goToDashboard","$emit"],"sources":["/Users/nhannguyen/Desktop/Duan/esmart-solutions-agency/src/components/creator-ai/FinalStep.vue"],"sourcesContent":["<template>\n  <div class=\"step-content\">\n    <h2>{{ $t(\"creatorAI.final.title\") }}</h2>\n    <div v-if=\"hasProjectId\" class=\"project-info\">\n      <h3>{{ projectTitle }}</h3>\n      <p v-if=\"projectDescription\">{{ projectDescription }}</p>\n      <div class=\"project-status\">\n        <span :class=\"['status-badge', projectStatus]\">\n          {{ projectStatus === \"in_progress\" ? \"In Progress\" : \"Finished\" }}\n        </span>\n        <button\n          v-if=\"projectStatus === 'in_progress'\"\n          class=\"status-button\"\n          @click=\"markAsFinished\"\n          :disabled=\"loading\"\n        >\n          {{ loading ? \"Updating...\" : \"Mark as Finished\" }}\n        </button>\n        <button\n          v-else\n          class=\"status-button\"\n          @click=\"markAsInProgress\"\n          :disabled=\"loading\"\n        >\n          {{ loading ? \"Updating...\" : \"Mark as In Progress\" }}\n        </button>\n      </div>\n      <p v-if=\"error\" class=\"error-message\">{{ error }}</p>\n    </div>\n    <div v-else class=\"project-info warning\">\n      <p>\n        This content is not saved to a project. Create a new project to save\n        your work.\n      </p>\n    </div>\n    <div class=\"final-content\">\n      <div class=\"final-content-section\">\n        <h3>{{ $t(\"creatorAI.final.contentSection\") }}</h3>\n        <div class=\"content-box\">\n          <div v-html=\"formattedContent\"></div>\n        </div>\n      </div>\n\n      <div class=\"final-image-section\">\n        <h3>{{ $t(\"creatorAI.final.imageSection\") }}</h3>\n        <div class=\"image-box\">\n          <img v-if=\"imageUrl\" :src=\"imageUrl\" alt=\"Generated image\" />\n          <div v-else class=\"no-image-placeholder\">\n            <i class=\"fa-solid fa-image fa-5x\"></i>\n          </div>\n          <button\n            v-if=\"imageUrl\"\n            class=\"edit-image-button\"\n            @click=\"$emit('go-to-image')\"\n          >\n            {{ $t(\"creatorAI.final.editImage\") }}\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"project-details\">\n      <h3>{{ $t(\"creatorAI.final.projectDetails\") }}</h3>\n      <div class=\"details-grid\">\n        <div class=\"detail-item\">\n          <span class=\"detail-label\">Title:</span>\n          <span class=\"detail-value\">{{ projectTitle || \"Untitled\" }}</span>\n        </div>\n        <div class=\"detail-item\" v-if=\"projectDescription\">\n          <span class=\"detail-label\">Description:</span>\n          <span class=\"detail-value\">{{ projectDescription }}</span>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"action-buttons\">\n      <button class=\"export-button\" @click=\"exportContent\">\n        {{ $t(\"creatorAI.final.export\") }}\n      </button>\n      <button class=\"share-button\" @click=\"shareContent\">\n        {{ $t(\"creatorAI.final.share\") }}\n      </button>\n      <button class=\"download-button\" @click=\"downloadPDF\">\n        {{ $t(\"creatorAI.final.downloadPDF\") }}\n      </button>\n    </div>\n\n    <div class=\"button-group\">\n      <button class=\"secondary-button\" @click=\"$emit('prev')\">\n        {{ $t(\"creatorAI.image.previous\") }}\n      </button>\n      <button class=\"dashboard-button\" @click=\"$emit('go-to-dashboard')\">\n        {{ $t(\"creatorAI.final.backToDashboard\") }}\n      </button>\n      <button class=\"primary-button\" @click=\"$emit('new')\">\n        {{ $t(\"creatorAI.final.createNew\") }}\n      </button>\n    </div>\n    <div v-if=\"saveMessage\" :class=\"['save-message', saveStatus]\">\n      {{ saveMessage }}\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  name: \"FinalStep\",\n  props: {\n    content: {\n      type: String,\n      required: true,\n    },\n    generatedImage: {\n      type: String,\n      default: null,\n    },\n    projectId: {\n      type: String,\n      default: \"\",\n    },\n    projectTitle: {\n      type: String,\n      default: \"Content Project\",\n    },\n    projectDescription: {\n      type: String,\n      default: \"\",\n    },\n    contentId: {\n      type: String,\n      default: \"\",\n    },\n  },\n  data() {\n    return {\n      projectStatus: \"in_progress\",\n      loading: false,\n      error: null,\n      saveLoading: false,\n      saveMessage: null,\n      saveStatus: \"success\",\n    };\n  },\n  computed: {\n    apiEndpoint() {\n      return process.env.VUE_APP_API_URL || \"http://localhost:3001/api\";\n    },\n    hasProjectId() {\n      return this.projectId && this.projectId.length > 0;\n    },\n    hasContentId() {\n      return this.contentId && this.contentId.length > 0;\n    },\n    formattedContent() {\n      if (!this.content) return \"\";\n\n      // Tạo định dạng HTML cho nội dung\n      const formatted = this.content\n        // Thay thế dòng trống bằng thẻ đoạn\n        .replace(/\\n\\s*\\n/g, \"</p><p>\")\n        // Thay thế dòng mới đơn bằng thẻ br\n        .replace(/\\n/g, \"<br>\")\n        // Bọc toàn bộ nội dung trong thẻ p\n        .replace(/^(.+)$/, \"<p>$1</p>\");\n\n      return formatted;\n    },\n    imageUrl() {\n      // Trả về URL hình ảnh nếu có, không thì trả về null\n      if (this.generatedImage) {\n        // Nếu generatedImage là data:image thì trả về trực tiếp\n        if (this.generatedImage.startsWith(\"data:image\")) {\n          return this.generatedImage;\n        }\n        // Nếu là URL thì trả về URL\n        return this.generatedImage;\n      }\n      return null;\n    },\n  },\n  created() {\n    if (this.hasProjectId) {\n      this.fetchProjectStatus();\n    }\n  },\n  methods: {\n    async fetchProjectStatus() {\n      try {\n        if (!this.hasProjectId) return;\n\n        const response = await axios.get(\n          `${this.apiEndpoint}/projects/${this.projectId}`\n        );\n        if (response.data.success) {\n          this.projectStatus = response.data.data.status;\n        }\n      } catch (error) {\n        console.error(\"Error fetching project status:\", error);\n        this.error = \"Could not fetch project status\";\n      }\n    },\n    async markAsFinished() {\n      try {\n        if (!this.hasProjectId) {\n          alert(\"Cannot update status: No project ID available\");\n          return;\n        }\n\n        this.loading = true;\n        const response = await axios.patch(\n          `${this.apiEndpoint}/projects/${this.projectId}/status`,\n          {\n            status: \"finished\",\n          }\n        );\n\n        if (response.data.success) {\n          this.projectStatus = \"finished\";\n        }\n      } catch (error) {\n        console.error(\"Error updating project status:\", error);\n        alert(\"Failed to update project status: \" + error.message);\n      } finally {\n        this.loading = false;\n      }\n    },\n    async markAsInProgress() {\n      try {\n        if (!this.hasProjectId) {\n          alert(\"Cannot update status: No project ID available\");\n          return;\n        }\n\n        this.loading = true;\n        const response = await axios.patch(\n          `${this.apiEndpoint}/projects/${this.projectId}/status`,\n          {\n            status: \"in_progress\",\n          }\n        );\n\n        if (response.data.success) {\n          this.projectStatus = \"in_progress\";\n        }\n      } catch (error) {\n        console.error(\"Error updating project status:\", error);\n        alert(\"Failed to update project status: \" + error.message);\n      } finally {\n        this.loading = false;\n      }\n    },\n    async saveContent() {\n      try {\n        if (!this.hasContentId) {\n          this.saveMessage = \"No content ID available. Cannot save.\";\n          this.saveStatus = \"error\";\n          return;\n        }\n\n        this.saveLoading = true;\n        this.saveMessage = null;\n\n        const response = await axios.put(\n          `${this.apiEndpoint}/content/contents/${this.contentId}`,\n          {\n            generatedContent: this.content,\n          }\n        );\n\n        if (response.data.success) {\n          this.saveMessage = \"Content saved successfully!\";\n          this.saveStatus = \"success\";\n        } else {\n          throw new Error(response.data.error || \"Unknown error occurred\");\n        }\n      } catch (error) {\n        console.error(\"Error saving content:\", error);\n        this.saveMessage = \"Failed to save content: \" + error.message;\n        this.saveStatus = \"error\";\n      } finally {\n        this.saveLoading = false;\n\n        // Clear message after 3 seconds\n        setTimeout(() => {\n          this.saveMessage = null;\n        }, 3000);\n      }\n    },\n    goToDashboard() {\n      this.$emit(\"go-to-dashboard\");\n    },\n  },\n};\n</script>\n\n<style scoped>\n.step-content {\n  background: white;\n  border-radius: 12px;\n  padding: 2rem;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n}\n\nh2 {\n  color: #1c1c4c;\n  margin-bottom: 1rem;\n  text-align: center;\n}\n\n.project-info {\n  background: #f8f9fa;\n  border-radius: 8px;\n  padding: 1rem;\n  margin-bottom: 1.5rem;\n}\n\n.project-info h3 {\n  color: #1c1c4c;\n  margin: 0 0 0.5rem 0;\n}\n\n.project-info p {\n  color: #6c757d;\n  margin: 0 0 1rem 0;\n}\n\n.project-status {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-top: 0.5rem;\n}\n\n.status-badge {\n  font-size: 0.75rem;\n  padding: 0.25rem 0.5rem;\n  border-radius: 12px;\n  font-weight: bold;\n}\n\n.status-badge.in_progress {\n  background-color: #ecedf7;\n  color: #1c1c4c;\n}\n\n.status-badge.finished {\n  background-color: #e8f5e9;\n  color: #28a745;\n}\n\n.status-button {\n  background: transparent;\n  border: 1px solid #1c1c4c;\n  color: #1c1c4c;\n  padding: 0.25rem 0.75rem;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 0.8rem;\n  transition: all 0.3s ease;\n}\n\n.status-button:hover {\n  background: #ecedf7;\n}\n\n.final-content {\n  display: grid;\n  gap: 2rem;\n}\n\n.final-content-section {\n  background: #f8f9fa;\n  border-radius: 8px;\n  padding: 2rem;\n}\n\n.content-box {\n  white-space: pre-wrap;\n  line-height: 1.6;\n  font-family: \"Arial\", sans-serif;\n  padding: 1rem;\n  background: white;\n  border-radius: 4px;\n  border: 1px solid #e9ecef;\n  max-height: 400px;\n  overflow-y: auto;\n}\n\n.final-image-section {\n  background: #f8f9fa;\n  border-radius: 8px;\n  padding: 2rem;\n}\n\n.image-box {\n  display: flex;\n  justify-content: center;\n  margin-bottom: 1.5rem;\n}\n\n.image-box img {\n  max-width: 100%;\n  max-height: 300px;\n  object-fit: contain;\n  border-radius: 4px;\n}\n\n.no-image-placeholder {\n  width: 100%;\n  height: 200px;\n  background: #e9ecef;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 4px;\n  color: #6c757d;\n  font-style: italic;\n}\n\n.edit-image-button {\n  background: transparent;\n  border: none;\n  color: #1c1c4c;\n  padding: 0;\n  cursor: pointer;\n  font-size: 0.8rem;\n  transition: all 0.3s ease;\n}\n\n.edit-image-button:hover {\n  color: #2a2a6c;\n}\n\n.project-details {\n  background: #f8f9fa;\n  border-radius: 8px;\n  padding: 2rem;\n}\n\n.details-grid {\n  display: grid;\n  gap: 1rem;\n}\n\n.detail-item {\n  display: flex;\n  align-items: center;\n}\n\n.detail-label {\n  font-weight: bold;\n  margin-right: 0.5rem;\n}\n\n.detail-value {\n  color: #6c757d;\n}\n\n.action-buttons {\n  display: flex;\n  gap: 1rem;\n  justify-content: center;\n  margin-top: 2rem;\n}\n\n.export-button,\n.share-button,\n.download-button {\n  background: #1c1c4c;\n  color: white;\n  border: none;\n  padding: 0.75rem 1.5rem;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 1rem;\n  transition: background-color 0.3s ease;\n}\n\n.export-button:hover,\n.share-button:hover,\n.download-button:hover {\n  background: #2a2a6c;\n}\n\n.button-group {\n  display: flex;\n  gap: 1rem;\n  justify-content: center;\n  margin-top: 2rem;\n}\n\n.secondary-button {\n  background: white;\n  color: #1c1c4c;\n  border: 1px solid #1c1c4c;\n  padding: 0.75rem 1.5rem;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 1rem;\n  transition: all 0.3s ease;\n}\n\n.secondary-button:hover {\n  background: #f8f9fa;\n}\n\n.dashboard-button {\n  background: white;\n  color: #1c1c4c;\n  border: 1px solid #1c1c4c;\n  padding: 0.75rem 1.5rem;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 1rem;\n  transition: all 0.3s ease;\n}\n\n.dashboard-button:hover {\n  background: #f8f9fa;\n}\n\n.primary-button {\n  background: #1c1c4c;\n  color: white;\n  border: none;\n  padding: 0.75rem 1.5rem;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 1rem;\n  transition: background-color 0.3s ease;\n}\n\n.primary-button:hover {\n  background: #2a2a6c;\n}\n\n.error-message {\n  color: #dc3545;\n  font-size: 0.9rem;\n  margin-top: 0.5rem;\n}\n\n.project-info.warning {\n  background-color: #fff3cd;\n  border: 1px solid #ffeeba;\n  color: #856404;\n}\n\n.status-button:disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n}\n\n.save-message {\n  margin-top: 1rem;\n  padding: 0.75rem;\n  border-radius: 4px;\n  text-align: center;\n  font-size: 0.9rem;\n}\n\n.save-message.success {\n  background-color: #e8f5e9;\n  color: #2e7d32;\n}\n\n.save-message.error {\n  background-color: #ffebee;\n  color: #c62828;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}