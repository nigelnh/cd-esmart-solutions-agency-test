{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-1126a62c\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"step-content\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \"Final Result\", -1 /* HOISTED */));\nconst _hoisted_3 = {\n  class: \"project-info\"\n};\nconst _hoisted_4 = {\n  key: 0\n};\nconst _hoisted_5 = {\n  class: \"project-status\"\n};\nconst _hoisted_6 = {\n  class: \"final-content\"\n};\nconst _hoisted_7 = {\n  class: \"content-preview\"\n};\nconst _hoisted_8 = {\n  class: \"image-container\"\n};\nconst _hoisted_9 = [\"src\"];\nconst _hoisted_10 = {\n  key: 1,\n  class: \"image-placeholder\"\n};\nconst _hoisted_11 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"No image generated\", -1 /* HOISTED */));\nconst _hoisted_12 = [_hoisted_11];\nconst _hoisted_13 = {\n  class: \"content-text\"\n};\nconst _hoisted_14 = {\n  class: \"export-options\"\n};\nconst _hoisted_15 = {\n  class: \"button-group\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"h3\", null, _toDisplayString($props.projectTitle), 1 /* TEXT */), $props.projectDescription ? (_openBlock(), _createElementBlock(\"p\", _hoisted_4, _toDisplayString($props.projectDescription), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"span\", {\n    class: _normalizeClass(['status-badge', $data.projectStatus])\n  }, _toDisplayString($data.projectStatus === \"in_progress\" ? \"In Progress\" : \"Finished\"), 3 /* TEXT, CLASS */), $data.projectStatus === 'in_progress' ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 0,\n    class: \"status-button\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.markAsFinished && $options.markAsFinished(...args))\n  }, \" Mark as Finished \")) : (_openBlock(), _createElementBlock(\"button\", {\n    key: 1,\n    class: \"status-button\",\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.markAsInProgress && $options.markAsInProgress(...args))\n  }, \" Mark as In Progress \"))])]), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"div\", _hoisted_8, [$props.generatedImage ? (_openBlock(), _createElementBlock(\"img\", {\n    key: 0,\n    src: $props.generatedImage,\n    alt: \"Generated Image\"\n  }, null, 8 /* PROPS */, _hoisted_9)) : (_openBlock(), _createElementBlock(\"div\", _hoisted_10, [..._hoisted_12]))]), _createElementVNode(\"div\", _hoisted_13, _toDisplayString($props.content), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"button\", {\n    class: \"primary-button\",\n    onClick: _cache[2] || (_cache[2] = $event => _ctx.$emit('export'))\n  }, \"Export\"), _createElementVNode(\"button\", {\n    class: \"primary-button\",\n    onClick: _cache[3] || (_cache[3] = $event => _ctx.$emit('download-pdf'))\n  }, \" Download PDF \"), _createElementVNode(\"button\", {\n    class: \"primary-button\",\n    onClick: _cache[4] || (_cache[4] = $event => _ctx.$emit('share'))\n  }, \"Share\")])]), _createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"button\", {\n    class: \"secondary-button\",\n    onClick: _cache[5] || (_cache[5] = (...args) => $options.goToDashboard && $options.goToDashboard(...args))\n  }, \"Dashboard\"), _createElementVNode(\"button\", {\n    class: \"primary-button\",\n    onClick: _cache[6] || (_cache[6] = $event => _ctx.$emit('new'))\n  }, \"Create New\")])]);\n}","map":{"version":3,"names":["class","_createElementVNode","key","_hoisted_11","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_toDisplayString","$props","projectTitle","projectDescription","_hoisted_4","_createCommentVNode","_hoisted_5","_normalizeClass","$data","projectStatus","onClick","_cache","args","$options","markAsFinished","markAsInProgress","_hoisted_6","_hoisted_7","_hoisted_8","generatedImage","src","alt","_hoisted_9","_hoisted_10","_hoisted_12","_hoisted_13","content","_hoisted_14","$event","_ctx","$emit","_hoisted_15","goToDashboard"],"sources":["/Users/nhannguyen/Desktop/Duan/esmart-solutions-agency/src/components/creator-ai/FinalStep.vue"],"sourcesContent":["<template>\n  <div class=\"step-content\">\n    <h2>Final Result</h2>\n    <div class=\"project-info\">\n      <h3>{{ projectTitle }}</h3>\n      <p v-if=\"projectDescription\">{{ projectDescription }}</p>\n      <div class=\"project-status\">\n        <span :class=\"['status-badge', projectStatus]\">\n          {{ projectStatus === \"in_progress\" ? \"In Progress\" : \"Finished\" }}\n        </span>\n        <button\n          v-if=\"projectStatus === 'in_progress'\"\n          class=\"status-button\"\n          @click=\"markAsFinished\"\n        >\n          Mark as Finished\n        </button>\n        <button v-else class=\"status-button\" @click=\"markAsInProgress\">\n          Mark as In Progress\n        </button>\n      </div>\n    </div>\n    <div class=\"final-content\">\n      <div class=\"content-preview\">\n        <div class=\"image-container\">\n          <img\n            v-if=\"generatedImage\"\n            :src=\"generatedImage\"\n            alt=\"Generated Image\"\n          />\n          <div v-else class=\"image-placeholder\">\n            <span>No image generated</span>\n          </div>\n        </div>\n        <div class=\"content-text\">{{ content }}</div>\n      </div>\n      <div class=\"export-options\">\n        <button class=\"primary-button\" @click=\"$emit('export')\">Export</button>\n        <button class=\"primary-button\" @click=\"$emit('download-pdf')\">\n          Download PDF\n        </button>\n        <button class=\"primary-button\" @click=\"$emit('share')\">Share</button>\n      </div>\n    </div>\n    <div class=\"button-group\">\n      <button class=\"secondary-button\" @click=\"goToDashboard\">Dashboard</button>\n      <button class=\"primary-button\" @click=\"$emit('new')\">Create New</button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  name: \"FinalStep\",\n  props: {\n    content: {\n      type: String,\n      required: true,\n    },\n    generatedImage: {\n      type: String,\n      default: null,\n    },\n    projectId: {\n      type: String,\n      default: \"\",\n    },\n    projectTitle: {\n      type: String,\n      default: \"Content Project\",\n    },\n    projectDescription: {\n      type: String,\n      default: \"\",\n    },\n  },\n  data() {\n    return {\n      projectStatus: \"in_progress\",\n      loading: false,\n      error: null,\n    };\n  },\n  computed: {\n    apiEndpoint() {\n      return process.env.VUE_APP_API_URL || \"http://localhost:3001/api\";\n    },\n    hasProjectId() {\n      return this.projectId && this.projectId.length > 0;\n    },\n  },\n  created() {\n    if (this.hasProjectId) {\n      this.fetchProjectStatus();\n    }\n  },\n  methods: {\n    async fetchProjectStatus() {\n      try {\n        if (!this.hasProjectId) return;\n\n        const response = await axios.get(\n          `${this.apiEndpoint}/projects/${this.projectId}`\n        );\n        if (response.data.success) {\n          this.projectStatus = response.data.data.status;\n        }\n      } catch (error) {\n        console.error(\"Error fetching project status:\", error);\n        this.error = \"Could not fetch project status\";\n      }\n    },\n    async markAsFinished() {\n      try {\n        if (!this.hasProjectId) {\n          alert(\"Cannot update status: No project ID available\");\n          return;\n        }\n\n        this.loading = true;\n        const response = await axios.patch(\n          `${this.apiEndpoint}/projects/${this.projectId}/status`,\n          {\n            status: \"finished\",\n          }\n        );\n\n        if (response.data.success) {\n          this.projectStatus = \"finished\";\n        }\n      } catch (error) {\n        console.error(\"Error updating project status:\", error);\n        alert(\"Failed to update project status: \" + error.message);\n      } finally {\n        this.loading = false;\n      }\n    },\n    async markAsInProgress() {\n      try {\n        if (!this.hasProjectId) {\n          alert(\"Cannot update status: No project ID available\");\n          return;\n        }\n\n        this.loading = true;\n        const response = await axios.patch(\n          `${this.apiEndpoint}/projects/${this.projectId}/status`,\n          {\n            status: \"in_progress\",\n          }\n        );\n\n        if (response.data.success) {\n          this.projectStatus = \"in_progress\";\n        }\n      } catch (error) {\n        console.error(\"Error updating project status:\", error);\n        alert(\"Failed to update project status: \" + error.message);\n      } finally {\n        this.loading = false;\n      }\n    },\n    goToDashboard() {\n      this.$router.push(\"/dashboard\");\n    },\n  },\n};\n</script>\n\n<style scoped>\n.step-content {\n  background: white;\n  border-radius: 12px;\n  padding: 2rem;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n}\n\nh2 {\n  color: #1c1c4c;\n  margin-bottom: 1rem;\n  text-align: center;\n}\n\n.project-info {\n  background: #f8f9fa;\n  border-radius: 8px;\n  padding: 1rem;\n  margin-bottom: 1.5rem;\n}\n\n.project-info h3 {\n  color: #1c1c4c;\n  margin: 0 0 0.5rem 0;\n}\n\n.project-info p {\n  color: #6c757d;\n  margin: 0 0 1rem 0;\n}\n\n.project-status {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-top: 0.5rem;\n}\n\n.status-badge {\n  font-size: 0.75rem;\n  padding: 0.25rem 0.5rem;\n  border-radius: 12px;\n  font-weight: bold;\n}\n\n.status-badge.in_progress {\n  background-color: #ecedf7;\n  color: #1c1c4c;\n}\n\n.status-badge.finished {\n  background-color: #e8f5e9;\n  color: #28a745;\n}\n\n.status-button {\n  background: transparent;\n  border: 1px solid #1c1c4c;\n  color: #1c1c4c;\n  padding: 0.25rem 0.75rem;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 0.8rem;\n  transition: all 0.3s ease;\n}\n\n.status-button:hover {\n  background: #ecedf7;\n}\n\n.final-content {\n  display: grid;\n  gap: 2rem;\n}\n\n.content-preview {\n  background: #f8f9fa;\n  border-radius: 8px;\n  padding: 2rem;\n}\n\n.image-container {\n  display: flex;\n  justify-content: center;\n  margin-bottom: 1.5rem;\n}\n\n.content-preview img {\n  max-width: 100%;\n  max-height: 300px;\n  object-fit: contain;\n  border-radius: 4px;\n}\n\n.image-placeholder {\n  width: 100%;\n  height: 200px;\n  background: #e9ecef;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 4px;\n  color: #6c757d;\n  font-style: italic;\n}\n\n.content-text {\n  white-space: pre-wrap;\n  line-height: 1.6;\n  font-family: \"Arial\", sans-serif;\n  padding: 1rem;\n  background: white;\n  border-radius: 4px;\n  border: 1px solid #e9ecef;\n  max-height: 400px;\n  overflow-y: auto;\n}\n\n.export-options {\n  display: flex;\n  gap: 1rem;\n  justify-content: center;\n}\n\n.button-group {\n  display: flex;\n  gap: 1rem;\n  justify-content: center;\n  margin-top: 2rem;\n}\n\n.primary-button {\n  background: #1c1c4c;\n  color: white;\n  border: none;\n  padding: 0.75rem 1.5rem;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 1rem;\n  transition: background-color 0.3s ease;\n}\n\n.primary-button:hover {\n  background: #2a2a6c;\n}\n\n.secondary-button {\n  background: white;\n  color: #1c1c4c;\n  border: 1px solid #1c1c4c;\n  padding: 0.75rem 1.5rem;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 1rem;\n  transition: all 0.3s ease;\n}\n\n.secondary-button:hover {\n  background: #f8f9fa;\n}\n\n@media (max-width: 768px) {\n  .export-options {\n    flex-direction: column;\n  }\n\n  .button-group {\n    flex-direction: column;\n  }\n\n  .primary-button,\n  .secondary-button {\n    width: 100%;\n  }\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}